{% extends "base.html.twig" %}

{% block body %}
  <div class="block-content">
    <h1><i class="fa-solid fa-bed clr-black me-3"></i>RÃ©servations</h1>
  </div>
  <div class="block-content">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Client</th>
            <th scope="col">Apartement</th>
            <th scope="col">Date</th>
            <th scope="col">Nombre de personnes</th>
            <th scope="col">Prix</th>
            <th scope="col">Statut</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for reservation in reservations %}
            <tr>
              <td>{{ reservation.clientFirstname }} {{ reservation.clientLastname }}</td>
              <td>{{ reservation.apartment.name }}</td>
              <td>{{ reservation.startAt|format_datetime(locale='fr',pattern="dd MMMM YYYY") }} - {{ reservation.endAt|format_datetime(locale='fr',pattern="dd MMMM YYYY") }}</td>
              <td>{{ reservation.nbOfPersons }}</td>
              <td>{{ reservation.price|format_currency('EUR', {rounding_mode: 'floor'}) }}</td>
              <td>{{ reservation.state.name }}</td>
              <td>
                <a href="{{ path('app_reservation_update', {'id': reservation.id}) }}" class="btn btn-warning"><i class="fa-solid fa-pen-to-square"></i></a>
                <a href="{{ path('app_reservation_delete', {'id': reservation.id}) }}" class="btn btn-danger"><i class="fa-solid fa-trash"></i></a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}